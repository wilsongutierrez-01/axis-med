---
import Title from "@/components/fonts/Title.astro";
import Banner from "@/components/landing/Banner.astro";
---

<section class="text-center flex flex-col">
  <Title title="Encuéntranos" />
  <!-- Título -->

  <!-- Contenedor del mapa -->
  <div id="map" class="h-[400px]"></div>

  <!-- Banner debajo -->
  <Banner />
</section>

<!-- Script que carga Leaflet y luego inicializa el mapa -->
<script type="module">
  var map = L.map("map").setView([13.6665733, -89.2722239], 17);
  L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
    attribution:
      '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
  }).addTo(map);
  L.marker([13.6665733, -89.2722239])
    .addTo(map)
    .bindPopup(
      `
    <div style="
      text-align: center;
      width: 220px;
      font-family: Arial, sans-serif;
    ">
      <img 
        src="/img/maps/popup.webp" 
        alt="Local AXIS-MED"
        style="
          width: 100%;
          height: 120px;
          object-fit: cover;
          border-radius: 8px;
          margin-bottom: 10px;
        "
      />

      <h3 style="
        margin: 0;
        font-size: 18px;
        font-weight: bold;
        color: #1E3A8A;
      ">AXIS-MED</h3>

      <p style="
        margin: 6px 0 12px;
        font-size: 14px;
        color: #374151;
      ">
        Su socio estratégico en salud.
      </p>

      <a
        href="https://www.google.com/maps/dir/?api=1&destination=13.6665733,-89.2722239"
        target="_blank"
        style="
          display: inline-block;
          background: #2583C5;
          color: white;
          padding: 8px 14px;
          border-radius: 6px;
          font-size: 14px;
          text-decoration: none;
          font-weight: bold;
          transition: background 0.2s;
        "
        onmouseover="this.style.background='#1E6BB0'"
        onmouseout="this.style.background='#2583C5'"
      >
        Ver Ruta
      </a>
    </div>
  `
    )
    .openPopup();
</script>
